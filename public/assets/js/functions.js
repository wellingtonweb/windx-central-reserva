function displayMessageQuestionFinish(){clearInterval(callback),Swal.fire({title:"Deseja realizar outro pagamento?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Sim",denyButtonText:"Não",timer:1e4,customClass:{actions:"my-actions",cancelButton:"order-1 right-gap",confirmButton:"order-2",denyButton:"order-3"},didOpen:()=>{Swal.hideLoading()}}).then((t=>{t.isConfirmed?(clearAllSections(),location.reload()):(t.dismiss||t.isDenied)&&logout()}))}function getIp(t){function e(e){t(window.userip),e.onload=e.onerror=null,document.body.removeChild(e)}function a(){window.userip=!1;var t=document.createElement("script");t.async=!0,t.onload=function(){e(t)},t.onerror=function(){e(t)},t.src="https://l2.io/ip.js?var=userip",document.body.appendChild(t),console.log(document.body)}/^(interactive|complete)$/i.test(document.readyState)?a():document.addEventListener("DOMContentLoaded",a)}function setCookie(t,e,a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var o="expires="+n.toUTCString();document.cookie=t+"="+e+";"+o+";path=/"}function getCookie(t){var e=t+"=",a=document.cookie.split(";");for(let t=0;t<a.length;t++){for(var n=a[t];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(e))return n.substring(e.length)}return""}function notify(t){Swal.fire({position:"top",showConfirmButton:!1,text:t,showClass:{popup:"animate__animated animate__fadeInDownBig",backdrop:void 0},hideClass:{popup:"animate__animated animate__fadeOutUpBig"},timer:5e3})}function notifySystem(t,e,a){Swal.fire({icon:e,title:"Erro "+t+"!",html:"<p>"+a+"</p>",timer:7e3,showConfirmButton:!1}).then((t=>{(t.dismiss===Swal.DismissReason.timer||t.isDismissed||t.isConfirmed)&&($("#form_checkout")[0].reset(),$("#cart-card").modal("hide"),displayMessageQuestionFinish())}))}function notifyMessage(t,e,a){Swal.fire({icon:e,title:t>200?"Erro "+t+"!":t,html:a,timer:7e3})}function notify5(t){$("#modalMessageText").text(t),$("#modalMessage").modal("show"),$("body").addClass("overflow-hidden"),setTimeout((()=>{$("#modalMessage").modal("hide"),$("body").removeClass("overflow-hidden")}),3e3)}function getFirstName(t){var e=t.split(" "),a=e[1][0].toUpperCase()!=e[1][0];return e.slice(0,a?2:1).join(" ")}function convertDateTime(t){const e=new Date(t);return new Date(e- -108e5).toLocaleString()}function checkFavored(t){let e="";switch(t){case 1:e="PENHA DE SOUZA JAMARIQUELI COMÉRCIOS E SERVIÇOS DE TELECOMUNICAÇÃO LTDA - CNPJ: 01.771.952/0001-71";break;case 5:e="J. DE S. JAMARIQUELI COM. E SERVIÇOS DE COMUNICAÇÃO E TELECOMUNICAÇÃO ME - CNPJ: 10.528.742/0001-48";break;case 6:e="ANTONIO CARLOS DE SOUZA JAMARIQUELI - CNPJ: 44.053.846/0001-65"}return e}function dateNow(){const t=new Date;console.log(t);return String(t.getDay()-1).padStart(2,"0")+"/"+(t.getMonth()+1)+"/"+t.getFullYear()}function genCouponPdf(t,e){let a=$("#container-coupon");renderDataCoupon(e),a.removeClass("d-none"),html2canvas(document.querySelector("#container-coupon")).then((e=>{var a=e.toDataURL("image/jpeg"),n=new jsPDF("p","mm",[80.41,235.65]);n.addImage(a,"jpeg",2,2),n.save("comprovante_"+t+".pdf")})),a.addClass("d-none")}function renderDataCoupon(t){const e=convertDateTime(t.created_at),a=[];$.each(t.billets,(function(t,e){a.push(" "+e.reference)})),$("#coupon_reference").html(t.reference),$("#coupon_id").html(t.id),$("#coupon_created_at").html(e),$("#coupon_billets").html(a),$("#coupon_payment_type").html("credit"==t.payment_type?"Crédito":"Débito"),$("#coupon_value").html(t.amount),$("#coupon_amount").html(t.amount)}function date_to_utc(t){return Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())}function date_to_br(t){return Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())}function dias_atraso(t,e){const a=date_to_utc(t),n=date_to_utc(e);return day=864e5,(n-a)/day}function calculaMulta(t){return 2*t/100}function calculaJuros(t,e){const a=dias_atraso(new Date,new Date(t));let n={},o=0,i=0;const s=Number(e);if(a<0){i=Number(.2*s/100*Math.abs(a)),o=Number(calculaMulta(e).toFixed(2));const t=parseFloat(s)+parseFloat(i)+parseFloat(o);n={dias_atraso:Math.abs(a),juros:i.toFixed(2),multa:o.toFixed(2),valor:s.toFixed(2),total:t.toFixed(2)}}else n={dias_atraso:0,juros:0,multa:0,valor:s.toFixed(2),total:s.toFixed(2)};return n}function clearAllSections(){sessionStorage.clear()}$("#contracts-slider").owlCarousel({items:3,itemsDesktop:[1199,3],itemsDesktopSmall:[980,2],itemsMobile:[600,1],navigation:!0,navigationText:["Contrato anterior","Próximo contrato"],pagination:!1,autoPlay:!1}),$("#news-slider").owlCarousel({items:3,itemsDesktop:[1199,3],itemsDesktopSmall:[980,2],itemsMobile:[600,1],navigation:!1,navigationText:["Fatura anterior","Próxima fatura"],pagination:!1,autoPlay:!1});var tempo=120;function countdown(){if(tempo-1>=-1){var t=parseInt(tempo/60),e=tempo%60;t<10&&(t=(t="0"+t).substr(0,2)),e<=9&&(e="0"+e),$("#timer").html("00:"+t+":"+e),setTimeout("countdown()",1e3),tempo--}else $("#timer").fadeOut(1e3)}function logout(){clearAllSections(),$(".sideMenu").removeClass("open"),$(".container-all").addClass("animate__animated animate__zoomOut animate__delay-1s"),Swal.fire({icon:"info",title:"Agradecemos a sua visita!",timer:2e3,timerProgressBar:!1,showConfirmButton:!1,willClose:()=>{$(".loading").removeClass("d-none"),window.location=route_logout}})}let inactivitySession=function(){let t;function e(){clearInterval(t);var e=100;t=setInterval((function(){--e>0?$(".progress-bar-system").css("width",e+"%"):(clearInterval(t),logout())}),1e3)}document.onkeypress=e,document.onmousedown=e,document.ontouchstart=e,document.onclick=e};function setPaymentType(t){switch(t){case"credit":return"crédito";case"debit":return"débito";case"picpay":return"picpay";default:return"PIX"}}function setPaymentMethod(t){switch(t){case"ecommerce":return"Central do Assinante";case"tef":return"Autoatendimento";default:return"picpay"}}function printStatus(t){var e;switch(t){case"created":e='<span class="text-secondary">Criado</span>';break;case"approved":e='<span class="text-success">Aprovado</span>';break;case"refused":e='<span class="text-danger">Recusado</span>';break;case"canceled":e='<span class="text-danger">Cancelado</span>'}return e}$(".container-fluid").trigger("click"),$(".btn-payment-get-details").click((function(){$(".loading-get-info").removeClass("d-none"),$("#spinner-status-details").removeClass("d-none");var t,e=$(this).data("payment"),a=base_url+"callback/"+e,n=$(this).closest("tr");n.find("td:nth-child(8)").text().trim();$("#details_payment_id").text(n.find("td:nth-child(1)").text().trim()),$("#details_payment_reference").text(n.find("td:nth-child(9)").text().trim()),$("#details_payment_created_at").text(n.find("td:nth-child(4)").text().trim()),$("#details_payment_billets").text(n.find("td:nth-child(2)").text().trim()),$("#details_payment_type").text(n.find("td:nth-child(6)").text().trim()),$("#details_payment_modality").text(n.find("td:nth-child(7)").text().trim()),$("#details_payment_value").text("R$ "+n.find("td:nth-child(10)").text().trim()),$("#details_payment_fees").text("R$ "+n.find("td:nth-child(11)").text().trim()),$("#details_payment_amount").text(n.find("td:nth-child(5)").text().trim()),$("#details_payment_status").text(""),async function(){const e=await fetch(a);t=await e.json(),$(".loading-get-info").addClass("d-none"),$("#spinner-status-details").addClass("d-none"),$("#details_payment_status").html(printStatus(t.status))}()})),$(".coupon-pdf").click((function(){const t=$(this).attr("id");"undefined"!=t&&null!=t&&($(this).children("i").removeClass("fa-download").addClass("fa-spinner fa-spin"),Swal.fire({title:"Aguarde!",html:"Gerando comprovante!",timer:2e4,timerProgressBar:!1,showConfirmButton:!1,didOpen:()=>{Swal.showLoading()},allowOutsideClick:()=>{const t=Swal.getPopup();return t.classList.remove("swal2-show"),setTimeout((()=>{t.classList.add("animate__animated","animate__headShake")})),setTimeout((()=>{t.classList.remove("animate__animated","animate__headShake")}),500),!1}}),setTimeout((()=>{$(this).children("i").removeClass("fa-spinner fa-spin").addClass("fa-download")}),5e3))}));
